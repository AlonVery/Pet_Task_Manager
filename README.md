
доменные модели User, Project, Task.
Project агрегатр рут. 
реализован инфраструктурный репозиторий ProjectRepository.

С задачами работают через проект, но не напрямую снаружи.
Task — внутренняя сущность агрегата, Project — единственная точка входа.

Write: строго через агрегат Project
Read: через TaskProjection (отдельную read-модель)

Репозиторий - интерфейс
impl - конкретный тип реализация интерфейса(бд, локаль, файл...)

Функции проекта:
    createProject - создать проект(имя и сам образ проекта)


1. **Request DTO** — для каждого use-case, который принимает данные извне
2. **Response DTO** — для каждого use-case, который отдаёт результат клиенту
3. **Mapper** — преобразование между Domain ↔ DTO (обычно один на use-case или ресурс)
4. **REST Controller** — вызывает use-case через DTO, возвращает Response DTO
5. **HTTP Server + Router** — чтобы принимать запросы и направлять на контроллеры


Что ты хочешь на уровне смысла:
Пользователь может зарегистрироваться
Пользователь может авторизоваться

Только авторизованный пользователь может:
создать проект
создать задачу в проекте

Ключевая мысль: 
“Авторизован” — это не HTTP, не JWT, не Spring Security.
Это бизнес-факт.


```scss
HttpExchange
   ↓ (adapter)
Request
   ↓
Router
   ↓
Handler  ← HTTP-решение (status, headers)
   ↓
Controller ← JSON ↔ DTO ↔ UseCase
   ↓
UseCase
```
Получается:
exchange получаем с сокета, передаем в адаптер,
адаптер готовит http дото реквеста и передает его в роутер,
чтоб понять, какую логику относительно API запроса исполнить,
распарсить и вернуть в респонсе.
далее формируем заголовки и статус код и тело ответа которые формируются
в хендлере (который определяется запросом).


Для добавления новой API:
1. Реализовать доменную логику
2. Реализовать комманду и юзкейс
3. В бутстрапе 
   3.1 добавить в роутер метод, end-point и хендлер
   3.2 Проинициализировать юзкейс, контроллер, хендлер и маппер
   3.3 Реализовать дто реквеста и респонса
   3.4 Реализовать контроллер и хендлер